(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b5c45e","chunk-2d20e7a5"],{"2b27":function(e,t,n){(function(){var t={expires:"1d",path:"; path=/",domain:"",secure:"",sameSite:"; SameSite=Lax"},n={install:function(e,t){t&&this.config(t.expires,t.path,t.domain,t.secure,t.sameSite),e.prototype&&(e.prototype.$cookies=this),e.config&&e.config.globalProperties&&(e.config.globalProperties.$cookies=this,e.provide("$cookies",this)),e.$cookies=this},config:function(e,n,a,r,s){t.expires=e||"1d",t.path=n?"; path="+n:"; path=/",t.domain=a?"; domain="+a:"",t.secure=r?"; Secure":"",t.sameSite=s?"; SameSite="+s:"; SameSite=Lax"},get:function(e){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(t&&("{"===t.substring(0,1)&&"}"===t.substring(t.length-1,t.length)||"["===t.substring(0,1)&&"]"===t.substring(t.length-1,t.length)))try{t=JSON.parse(t)}catch(n){return t}return t},set:function(e,n,a,r,s,i,o){if(!e)throw new Error("Cookie name is not found in the first argument.");if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(e))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]\t current key name: '+e);n&&"object"===typeof n&&(n=JSON.stringify(n));var c="";if(a=void 0==a?t.expires:a,a&&0!=a)switch(a.constructor){case Number:c=a===1/0||-1===a?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(a)){var u=a.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(a.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":c="; max-age="+2592e3*+u;break;case"d":c="; max-age="+86400*+u;break;case"h":c="; max-age="+3600*+u;break;case"min":c="; max-age="+60*+u;break;case"s":c="; max-age="+u;break;case"y":c="; max-age="+31104e3*+u;break;default:new Error('unknown exception of "set operation"')}}else c="; expires="+a;break;case Date:c="; expires="+a.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+c+(s?"; domain="+s:t.domain)+(r?"; path="+r:t.path)+(void 0==i?t.secure:i?"; Secure":"")+(void 0==o?t.sameSite:o?"; SameSite="+o:""),this},remove:function(e,n,a){return!(!e||!this.isKey(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:t.domain)+(n?"; path="+n:t.path)+"; SameSite=Lax",!0)},isKey:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};e.exports=n,"undefined"!==typeof window&&(window.$cookies=n)})()},"2f21":function(e,t,n){"use strict";var a=n("79e5");e.exports=function(e,t){return!!e&&a((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"321e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("link",{attrs:{rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css"}}),t(e.layout,{tag:"component"},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)],1)},r=[],s=(n("96cf"),n("3b8d")),i=n("a026"),o=(n("8e6e"),n("456d"),n("28a5"),n("ac6a"),n("55dd"),n("bd86")),c=n("75fc"),u=n("bc3a"),l=n.n(u),d=n("3ef3"),p=n("d166"),f=n("6172"),h=n("a65b"),m=n("ccee"),g=n("8760");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=d["a"].guid;function y(e,t){return!(!e||!t)&&("null"!=e&&"null"!=t&&e===t)}var S=0,k=0,x=function(){S=Date.now()},R={user:null,agents:[],contacts:null,chats:[],chatsMessages:{},chatsVersion:0,chatsSize:null,chatsCounter:1,meta:{isOnline:void 0,isAway:!1,isLoadingChats:!1},mediaOptions:[],quickActions:[],quickLabels:[],quickReplies:[],quickTags:[],chatHistory:{sessions:null},searchChat:{tokens:[],state:"ACTIVE",limit:20,tab:"ME",text:"",mode:null,endGame:!1,chatsFetchStamp:0}},O=m["a"].bind("agent.search",R.searchChat,(function(e,t){e.state=t.state,e.tab=t.tab,e.text=t.text,e.mode=t.mode})).reover({state:"ACTIVE",tab:"ME",text:"",mode:null}),C=function(e){return{id:e.id,category:e.category,title:e.title,text:e.title,code:e.code,color:d["a"].hexacode(e.category),selected:!1}},T={StateChats:function(e){return e.chats},StateChatsVersion:function(e){return e.chatsVersion},StateMeta:function(e){return e.meta},StateMediaOptions:function(e){return e.mediaOptions},StateQuickActions:function(e){return e.quickActions},StateQuickLabels:function(e){return e.quickLabels},StateQuickTags:function(e){return e.quickTags},StateQuickTagsSorted:function(e){var t={},n=e.quickTags;return n.map((function(e){t[e.category]=t[e.category]?[].concat(Object(c["a"])(t[e.category]),[e]):[e]})),t},StateAgentOptions:function(e){return e.agents},StateChatHistory:function(e){return e.chatHistory.sessions},SearchChat:function(e){return e.searchChat}},I={__RefeshSessionRequest:function(e){var t=e.isOnline,n=e.isUpdate,a=e.isAway,r=Date.now();return l.a.get("/api/sessions/assignments",{params:b(b({status:t,away:a,isUpdate:n,limit:R.searchChat.limit},function(e){return e?{search:R.searchChat.text}:{tab:R.searchChat.tab,searchStatus:R.searchChat.state,search:R.searchChat.mode?" MODE:"+R.searchChat.mode:void 0}}(!!R.searchChat.text)),{},{_search:R.searchChat.tokens.filter((function(e){return!e.isTag&&e.text})).map((function(e){return e.text})).join("*")})}).then((function(e){return e.data.chatsFetchStamp=r,R.searchChat.endGame=e.data.results.length<R.searchChat.limit,e}))},_RefeshSession:function(){var e=null,t=0;return function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(a){var r,s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=a.isOnline,s=a.isUpdate,i=a.isAway,o=Date.now()-500,s=s&&t<o,s&&(t=Date.now()),!e||s){n.next=6;break}return n.abrupt("return",e);case 6:return e=I.__RefeshSessionRequest({isOnline:r,isUpdate:s,isAway:i}).then((function(e){return e})).catch((function(e){})).then((function(t){return setTimeout((function(){e=null}),p["a"].config.chatRefreshInterval),t})),n.abrupt("return",e);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(),_MatchQuickReplies:Object(g["a"])((function(e){e=e||{categories:[],text:""},e.categories=e.categories;e.text=(e.text||"").toLowerCase();var t=R.quickReplies.map((function(t){return f["a"].quickReply(t,e),t}));return t.sort((function(e,t){return t.matchScore-e.matchScore}))}),500)},j={RefeshSession:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,r=t.dispatch,s=Date.now()-p["a"].config.chatRefreshInterval,n||!(S>s)){e.next=4;break}return e.abrupt("return");case 4:return R.meta.isLoadingChats=!0,e.next=7,I._RefeshSession({isOnline:R.meta.isOnline,isUpdate:n,isAway:R.meta.isAway});case 7:if(i=e.sent,R.meta.isLoadingChats=!1,!(i&&i.data&&i.data.details)){e.next=12;break}return e.next=12,r("SetAgentOptionsStatus",i.data.details);case 12:i&&i.data&&i.data.results&&i.data.chatsFetchStamp>R.searchChat.chatsFetchStamp&&(R.searchChat.chatsFetchStamp=i.data.chatsFetchStamp,r("updateChats",i.data.results)),a("setMeta",R.meta),clearTimeout(k),k=setTimeout((function(){r("RefeshSession")}),p["a"].config.agentSessionTimeout),x();case 17:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),RefeshTimer:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,t.dispatch,x();case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LogIn:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,l.a.post("/auth/login/submit",n).then((function(e){if("SUCCESS"!==e.data.statusKey)throw e.data}));case 3:return e.next=5,a("setUser",n.get("username"));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),LogOut:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,l.a.get("/auth/logout"),a=null,n("logout",a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LoadChats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,n=t.dispatch,n("RefeshSession",!0);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),RefreshChats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,n=t.dispatch,n("updateChats",R.chats);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),GetChats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,n=t.dispatch,e.next=3,n("LoadChats");case 3:return e.sent,e.next=6,new Promise((function(e,t){var n;n=setInterval((function(){null!==R.chatsSize&&(clearInterval(n),e("foo"))}),2e3)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),AddChat:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in t.commit,a=t.dispatch,r=Object.assign({},n),R.chats)if(R.chats[s].contactId==n.contactId&&R.chats[s].ticketHash==n.ticketHash){for(i in R.chats[s].active=!!n.active,R.chats[s].assignedToAgent=n.assignedToAgent,R.chats[s].resolved=n.resolved,n.messages)f["a"].appendMessage(R.chats[s],n.messages[i]);r.messages=R.chats[s].messages||r.messages,r.local=R.chats[s].local||r.local,f["a"].session(R.chats[s]),R.chats.splice(s,1)}r&&r.active&&R.chats.push(r),a("updateChats",R.chats);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),AddHistoryChat:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in a=t.commit,r=R.chatHistory.sessions||[],s=!1,r)r[i].sessionId==n.sessionId&&(r[i].active=!!n.active,r[i]=n,s=!0);R.chatHistory.sessions=r,s||R.chatHistory.sessions.push(n),a("setChatHistory",R.chatHistory);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),SendChatPre:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,r=t.dispatch,n.messageIdRef=n.messageIdRef||w(),n.version=n.version||0,console.log("Send:SendChatPre:",(null===n||void 0===n||null===(a=n.stamps)||void 0===a?void 0:a.session)||n),r("ReadChatMessage",n);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),SendChatPost:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,a=t.dispatch,console.log("Send:SendChatPost:",n.stamps.session||n),a("ReadChatMessage",n);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),SendChat:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=t.dispatch,a("SendChatPre",n),r="/api/sessions/message/send","/add_stick_note"==n.action&&(r="/api/sessions/note"),e.next=6,l.a.post(r,{id:n.id,message:n.message||n.text,template:n.template,subject:n.subject,attachments:n.attachments,sessionId:n.sessionId,hsm:Object.assign({id:n.templateId,code:n.templateCode},n.template,n.hsm),action:n.action,contact:n.contact,data:n.data,messageIdRef:n.messageIdRef});case 6:return s=e.sent,a("SendChatPost",s.data.results[0]),e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),SendFile:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=t.dispatch,a("SendChatPre",n.message),r=new FormData,r.append("message",JSON.stringify(n.message)),r.append("file",n.file,n.fileName),e.next=7,l.a.post("/api/sessions/message/upload",r);case 7:return s=e.sent,s.data.results&&s.data.results[0]&&a("ReadChatMessage",s.data.results[0]),e.abrupt("return",s.data);case 10:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),UpdateChatMessageStatus:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,a=t.dispatch,e.t0=regeneratorRuntime.keys(R.chats);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(r=e.t1.value,s=R.chats[r],!s.messages){e.next=20;break}e.t2=regeneratorRuntime.keys(s.messages);case 7:if((e.t3=e.t2()).done){e.next=20;break}if(i=e.t3.value,o=s.messages[i],!y(s.contact.contactType,n.contact.contactType)||!y(o.messageId,n.messageId)&&!y(n.messageIdExt,o.messageIdExt)){e.next=18;break}return o.stamps=o.stamps||{},o.stamps[n.status]=n.changeStamp,o.stamps=Object.assign({},o.stamps),o.status=n.status,console.log("msg.stamps",o.stamps),a("updateChats",R.chats),e.abrupt("return");case 18:e.next=7;break;case 20:e.next=2;break;case 22:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),ReadChatMessage:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,r=t.dispatch,n){e.next=3;break}return e.abrupt("return");case 3:n.messageIdRef=n.messageIdRef||w(),console.log("Send:ReadChatMessage:",(null===n||void 0===n||null===(a=n.stamps)||void 0===a?void 0:a.session)||n),s=!1,e.t0=regeneratorRuntime.keys(R.chats);case 7:if((e.t1=e.t0()).done){e.next=16;break}if(i=e.t1.value,o=R.chats[i],s=n.sessionId==o.sessionId,!s){e.next=14;break}return f["a"].appendMessage(o,n),e.abrupt("break",16);case 14:e.next=7;break;case 16:r("updateChats",R.chats);case 17:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),ReadSession:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in a=t.dispatch,n)for(i in s=n[r],R.chats)o=R.chats[i],o.sessionId==s.sessionId&&(o.status=s.status,o.tagId=s.tagId);a("updateChats",R.chats);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),OnlineStatus:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,a=t.dispatch,r=!1,void 0!==n.online&&(R.meta.isOnline=n.online,r=!0),void 0!==n.away&&(R.meta.isAway=n.away),a("RefeshSession",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),SetAgentOptionsStatus:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,r=t.dispatch,e.next=3,r("LoadAgentOptions");case 3:s=(new Date).getTime()-p["a"].config.agentSessionTimeout,i=s-2*p["a"].config.agentSessionTimeout,R.agents.map((function(e){for(var t in n){var r=n[t];e.code==r.agentCode&&(e.session=r,r.isLoggedIn=r.isLoggedIn&&r.lastOnlineStamp>i,r.isAvailable=r.isLoggedIn&&r.isOnline&&r.lastOnlineStamp>s,r.isAvailableNot=r.isLoggedIn&&!r.isOnline,r.isAway=r.isOnline&&r.isLoggedIn&&r.lastOnlineStamp<s,e.statusScore=0,r.isAvailable?e.statusScore=4:r.isAway?e.statusScore=3:r.isAvailableNot?e.statusScore=2:r.isLoggedIn&&(e.statusScore=1),e.code==p["a"].agent&&(R.meta.isOnline=r.isOnline,a("setMeta",R.meta)))}e.session=e.session||{},e.statusScore=void 0==e.statusScore?-1:e.statusScore})),R.agents=R.agents.sort((function(e,t){return!e.statusScore&&t.statusScore,e.statusScore>t.statusScore?-1:e.statusScore<t.statusScore?1:e.code.toLowerCase()<t.code.toLowerCase()?-1:1})),a("setAgents",R.agents);case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),LoadAgentOptions:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.dispatch,!R.agents||!R.agents.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.a.get("/api/options/agents");case 5:r=e.sent,r.data&&r.data.results&&n("setAgents",r.data.results),a("RefeshSession");case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LoadMediaOptions:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,l.a.get("/gallery/map/media_reply");case 3:a=e.sent,n("setMediaOptions",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LoadQuickActions:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,l.a.get("/gallery/map/quick_actions");case 3:a=e.sent,n("setQuickActions",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LoadQuickLabels:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,l.a.get("/gallery/map/quick_labels");case 3:a=e.sent,n("setQuickLabels",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),LoadQuickTags:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,l.a.get("/gallery/map/quick_tags");case 3:a=e.sent,n("setQuickTags",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),AttachQuickLabels:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=n.sessionId,r=n.labels,e.next=4,l.a.post("/api/contact/label?sessionId="+a,{values:r});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),AttachQuickTags:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=n.sessionId,r=n.tags,e.next=4,l.a.post("/api/contact/tag?sessionId="+a,{values:r});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),UpdateSessionTags:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=t.dispatch,r=n.sessionId,s=n.status,i=n.tags,e.next=4,l.a.post("/api/session/tag",{sessionId:r,status:s,tags:i});case 4:return o=e.sent,a("ReadSession",o.data.results),e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),LoadQuickReplies:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,R.quickReplies&&0!=R.quickReplies.length){e.next=7;break}return e.next=4,l.a.get("/category/map/smart_reply");case 4:for(s in r=e.sent,r.data)r.data[s].template=d["a"].nullify(r.data[s].template);a("setQuickReply",r.data);case 7:return e.abrupt("return",I._MatchQuickReplies(n));case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),GetSessions:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,r=JSON.stringify(n),R.chatHistory.contactId!=r){e.next=4;break}return e.abrupt("return",R.chatHistory.sessions);case 4:return e.next=6,l.a.get("/api/sessions/contact",{params:n});case 6:return s=e.sent,R.chatHistory.contactId=r,R.chatHistory.sessions=s.data.results,a("setChatHistory",R.chatHistory),e.abrupt("return",s.data.results);case 11:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),GetSessionChats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,a=t.dispatch,e.next=3,h["a"].first((function(){return l.a.get("/api/session/messages?sessionId="+n.sessionId,n)}),"messages:"+n.sessionId);case 3:return r=e.sent,s=b(b({},r.data.meta),{},{snapshot:Date.now(),messages:r.data.results}),f["a"].session(s),s.local.active?a("AddChat",s):a("AddHistoryChat",s),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),AssingToAgent:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.dispatch,a.sessionId,a.agentId,a.agentCode,a.deptCode,a.deptId,s=new URLSearchParams,e.next=5,l.a.post("/api/session/agent",s);case 5:return i=e.sent,r("AddChat",i.data.results[0]),e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),GetRequest:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,t.dispatch,a=n.url,r=n.params,e.next=4,l.a.get(a,{params:r});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),PostRequest:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,t.dispatch,a=n.url,r=n.params,e.next=4,l.a.post(a,r);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),updateChats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,t.dispatch,r=t.rootGetters,r.local.readStamp)for(s in n)n[s].lastReadStamp=Math.max(r.local.readStamp[n[s].sessionId]||0,n[s].lastReadStamp||0);console.log("Send:updateChats"),a("setChats",n);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},A={setChats:function(e,t){for(var n in t){if(t[n].msg=t[n].msg||{},t[n].local=t[n].local||{active:!1,expired:!1,tags:{},updatedStamp:0},t[n].messages){for(var a,r,s,i,o=Math.max((null===(a=t[n])||void 0===a||null===(r=a.updated)||void 0===r?void 0:r.stamp)||0,t[n].updatedStamp||0,(null===(s=t[n])||void 0===s||null===(i=s.local)||void 0===i?void 0:i.updatedStamp)||0),c=0;c<t[n].messages.length;c++){var u;"I"==t[n].messages[c].type&&(t[n].msg.lastInBoundMsg=t[n].messages[c]),["I","O"].indexOf(t[n].messages[c].type)>=0&&(t[n].msg.lastMsg=t[n].messages[c]),t[n].messages[c].stamps=t[n].messages[c].stamps||{},o=Math.max(o||0,(null===(u=t[n].messages[c].stamps)||void 0===u?void 0:u.session)||0),console.log("Send:updatedStamp"+o)}t[n].local.updatedStamp=o}(!e.chatsMessages[t[n].sessionId]||!e.chatsMessages[t[n].sessionId].length||t[n].messages&&t[n].messages.length>=e.chatsMessages[t[n].sessionId].length)&&(e.chatsMessages[t[n].sessionId]=t[n].messages||e.chatsMessages[t[n].sessionId]),t[n].assignedToAgent&&t[n].local&&(t[n].local.agent=e.agents.filter((function(e){return e.code==t[n].assignedToAgent}))[0]),t[n].messages=e.chatsMessages[t[n].sessionId],t[n].local=t[n].local,f["a"].session(t[n])}e.chatsSize=t.length,e.chats=t,e.chatsVersion++},setChatHistory:function(e,t){e.chatHistory=t},setMeta:function(e,t){e.meta=t},setQuickReply:function(e,t){e.quickReplies=t},setQuickActions:function(e,t){e.quickActions=t},setQuickLabels:function(e,t){d["a"].addContactLabels(t),e.quickLabels=t},setQuickTags:function(e,t){var n=t.map((function(e){return C(e)}));d["a"].addContactTags(n),e.quickTags=n},setMediaOptions:function(e,t){e.mediaOptions=t},setAgents:function(e,t){e.agents=t,x()},setContactTab:function(e,t){t.tab&&(e.searchChat.tab=t.tab),t.state&&(e.searchChat.state=t.state),e.searchChat=Object.assign({},e.searchChat),O.commit(e.searchChat)},setSessionSearch:function(e,t){var n=(t.text||"").trim();e.searchChat.text=n,n&&(n+="*"),e.searchChat.tokens=n.split(/(:[\w]+)/).filter((function(e){return!!e})).map((function(e){var t=e.split(":");return{isTag:!t[0],text:(t[0]||t[1]).trim(),_text:(t[0]||t[1]).toLowerCase().replaceAll("*","").trim()}})),console.log(" state.searchChat.state",t.state),e.searchChat.state=t.state,e.searchChat.limit=t.limit,e.searchChat.tab=t.tab,e.searchChat.mode=t.mode,e.searchChat=Object.assign({},e.searchChat),O.commit(e.searchChat)},setUser:function(e,t){e.user=t},logout:function(e,t){e.user=t}},L={state:R,getters:T,actions:j,mutations:A},M=n("9af4"),P=n.n(M),$=n("2b27"),_=n.n($),E=n("18fa"),D=n.n(E),H=(n("0808"),n("6944")),N=n.n(H),q=n("7258"),U=n.n(q),Q=n("f13c"),F=n.n(Q),V=n("caf9"),z=n("7bb1");i["default"].use(_.a),i["default"].use(D.a),i["default"].component("Loading",D.a),i["default"].use(N.a),i["default"].use(F.a);var G=n.p+"/_common/static/loading-spin.svg",J=n.p+"/_common/static/loading-spin.svg";i["default"].use(V["a"],{preLoad:1.3,error:J,loading:G,attempt:1,throttleWait:1e3});i["default"].component("app-agent-layout",(function(){return Promise.all([n.e("chunk-1518b02a"),n.e("chunk-6c75c417"),n.e("chunk-2d0bb20c"),n.e("chunk-2d230ab4"),n.e("chunk-254e0ac4")]).then(n.bind(null,"f979"))})),i["default"].component("plug-agent-layout",(function(){return Promise.all([n.e("chunk-1518b02a"),n.e("chunk-6c75c417"),n.e("chunk-2d0bb20c"),n.e("chunk-2d230ab4"),n.e("chunk-2f0d0c59")]).then(n.bind(null,"fd90"))})),i["default"].component("ValidationProvider",z["b"]),i["default"].component("ValidationObserver",z["a"]),i["default"].component("BaseInput",(function(){return n.e("chunk-0bb0b5c9").then(n.bind(null,"1675"))})),i["default"].component("MySource",(function(){return n.e("chunk-6746e860").then(n.bind(null,"ebba"))})),i["default"].component("MyText",(function(){return n.e("chunk-2d1e9588").then(n.bind(null,"e26b"))})),i["default"].component("MyIcon",(function(){return n.e("chunk-172395ad").then(n.bind(null,"3b24"))}));var K={name:"AppAgent",computed:{layout:function(){return"plug"==this.$route.params.app||"plug_mitel"==this.$route.params.app||"mitel"==window.CONST.APP_PLUG?"plug-agent-layout":"app-agent-layout"}},data:function(){return{refreshTimer:0,notyAudio:new Audio(U.a),enableAudioNotification:"true"==localStorage.getItem("AUDIO_NOTIFICATION")}},methods:{refresh:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.clearTimeout(this.refreshTimer),P.a.isSupported()&&P.a.hidden()){e.next=4;break}return e.next=4,this.$store.dispatch("RefeshSession");case 4:t=this,this.refreshTimer=window.setTimeout((function(){t.refresh()}),this.$tunnel.connected?1e4:1e3);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playNotification:function(){var e=this.notyAudio.play();void 0!==e&&e.then((function(){})).catch((function(e){return console.error}))},storageListener:function(){console.log("storageListener"),this.enableAudioNotification="true"==localStorage.getItem("AUDIO_NOTIFICATION")}},beforeDestroy:function(){document.removeEventListener("soundNotification",this.storageListener)},created:function(){this.$store.registerModule("DataStore",L)},mounted:function(){var e=this,t=document.createElement("script");t.setAttribute("src","https://kit.fontawesome.com/1153462312.js"),document.head.appendChild(t),t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css"),document.head.appendChild(t);var n=this;console.log("TUNNEL"),this.tunnel=this.$tunnel.pipe().on("/message/sent/new",(function(e){console.info("/message/sent/new===",e),n.$store.dispatch("ReadChatMessage",e),n.$store.dispatch("RefeshTimer")})).on("/message/receive/new",(function(e){e.version=3,console.info("/message/receive/new:msg===",e),n.$store.dispatch("ReadChatMessage",e),n.$store.dispatch("RefeshTimer"),n.enableAudioNotification&&n.playNotification()})).on("/dept/onassign-"+window.CONST.APP_DEPT,(function(e){console.debug("/dept/onassign-"+window.CONST.APP_DEPT,e),n.$store.dispatch("AddChat",e),n.$store.dispatch("RefeshTimer")})).on("/dept/onassign-__DEPT__",(function(e){console.debug("/dept/onassign-__DEPT__",e),n.$store.dispatch("AddChat",e),n.$store.dispatch("RefeshTimer")})).on("/message/update/status",(function(e){console.debug("/message/update/status===",e),n.$store.dispatch("UpdateChatMessageStatus",e),n.$store.dispatch("RefeshTimer")})).on("/agent/session/update",(function(e){console.debug("/agent/session/update",e),n.$store.dispatch("SetAgentOptionsStatus",[e]),n.$store.dispatch("RefeshTimer")})).on("/chat/session/update",(function(e){console.debug("/chat/session/update",e),n.$store.dispatch("ReadSession",[e]),n.$store.dispatch("RefeshTimer")})),P.a.change((function(t,n){e.$store.dispatch("OnlineStatus",{type:"away",away:n})})),this.refresh(),document.addEventListener("soundNotification",this.storageListener)},beforeUnmount:function(){this.tunnel.off(),window.clearTimeout(this.refreshTimer)}},B=K,W=(n("8c578"),n("2877")),Y=Object(W["a"])(B,a,r,!1,null,null,null);t["default"]=Y.exports},"55dd":function(e,t,n){"use strict";var a=n("5ca1"),r=n("d8e8"),s=n("4bf8"),i=n("79e5"),o=[].sort,c=[1,2,3];a(a.P+a.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!n("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(s(this)):o.call(s(this),r(e))}})},7258:function(e,t,n){e.exports=n.p+"media/alert.mp3"},8669:function(e,t,n){},8760:function(e,t,n){"use strict";var a=n("b012"),r=n.n(a);const s=function(e,t,n,a){let s,i,o,c;var u=r()((function(){i(e.apply(o,c)),o=c=null,s=null}),t,n,a);let l=function(){return o=this,c=arguments,s=s||new Promise((function(e){i=e})),u(),s};return l.clear=function(e){u.clear(e)},l.flush=function(e){u.flush(e)},l};t["a"]=s},"8c578":function(e,t,n){"use strict";n("8669")},"9af4":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a,r,s=Symbol("visibility-change-id"),i=-1;void 0!==document.hidden?(a="hidden",r="visibilitychange"):void 0!==document.msHidden?(a="msHidden",r="msvisibilitychange"):void 0!==document.webkitHidden?(a="webkitHidden",r="webkitvisibilitychange"):void 0!==document.mozHidden&&(a="mozHidden",r="mozvisibilitychange");var o,c={},u=document;function l(){o||(document.addEventListener(r,(function(){(function(e){for(var t in c)c[t].call(u,e,u[a])}).apply(d,arguments)})),o=!0)}var d={change:function(e){if(!d.isSupported())return!1;var t=i+=1;return c[t]=e,l(),t},unbind:function(e){delete c[e]},isSupported:function(){return void 0!==a},hidden:function(){return u[a]},install:function(e){e.directive("visibility-change",{bind:function(e,t){var n=t.value;"function"==typeof n?e[s]=d.change((function(e,t){n(e,t)})):console.error("You need bind a callback function for v-visibility-change")},unbind:function(e){d.unbind(e[s])}})}};t.default=d}])}))},b012:function(e,t){function n(e,t,n){var a,r,s,i,o;function c(){var u=Date.now()-i;u<t&&u>=0?a=setTimeout(c,t-u):(a=null,n||(o=e.apply(s,r),s=r=null))}null==t&&(t=100);var u=function(){s=this,r=arguments,i=Date.now();var u=n&&!a;return a||(a=setTimeout(c,t)),u&&(o=e.apply(s,r),s=r=null),o};return u.clear=function(){a&&(clearTimeout(a),a=null)},u.flush=function(){a&&(o=e.apply(s,r),s=r=null,clearTimeout(a),a=null)},u}n.debounce=n,e.exports=n},f13c:function(e,t,n){
/*!
  * vue-scrollto v2.20.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t.apply(this,arguments)}var n=4,a=.001,r=1e-7,s=10,i=11,o=1/(i-1),c="function"===typeof Float32Array;function u(e,t){return 1-3*t+3*e}function l(e,t){return 3*t-6*e}function d(e){return 3*e}function p(e,t,n){return((u(t,n)*e+l(t,n))*e+d(t))*e}function f(e,t,n){return 3*u(t,n)*e*e+2*l(t,n)*e+d(t)}function h(e,t,n,a,i){var o,c,u=0;do{c=t+(n-t)/2,o=p(c,a,i)-e,o>0?n=c:t=c}while(Math.abs(o)>r&&++u<s);return c}function m(e,t,a,r){for(var s=0;s<n;++s){var i=f(t,a,r);if(0===i)return t;var o=p(t,a,r)-e;t-=o/i}return t}function g(e){return e}var v=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return g;for(var s=c?new Float32Array(i):new Array(i),u=0;u<i;++u)s[u]=p(u*o,e,n);function l(t){for(var r=0,c=1,u=i-1;c!==u&&s[c]<=t;++c)r+=o;--c;var l=(t-s[c])/(s[c+1]-s[c]),d=r+l*o,p=f(d,e,n);return p>=a?m(t,d,e,n):0===p?d:h(t,r,r+o,e,n)}return function(e){return 0===e?0:1===e?1:p(l(e),t,r)}},b={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},w=!1;try{var y=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,y)}catch(_){}var S={$:function(e){return"string"!==typeof e?e:document.querySelector(e)},on:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var r=0;r<t.length;r++)e.addEventListener(t[r],n,!!w&&a)},off:function(e,t,n){t instanceof Array||(t=[t]);for(var a=0;a<t.length;a++)e.removeEventListener(t[a],n)},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}}},k=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],x={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function R(e){x=t({},x,e)}var O=function(){var t,n,a,r,s,i,o,c,u,l,d,p,f,h,m,g,w,y,R,O,C,T,I,j,A,L,M,P=function(e){c&&(I=e,O=!0)};function $(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function _(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function E(){C=S.cumulativeOffset(n),T=S.cumulativeOffset(t),p&&(m=T.left-C.left+i,y=m-h),f&&(w=T.top-C.top+i,R=w-g)}function D(e){if(O)return H();A||(A=e),s||E(),L=e-A,M=Math.min(L/a,1),M=j(M),N(n,g+R*M,h+y*M),L<a?window.requestAnimationFrame(D):H()}function H(){O||N(n,w,m),A=!1,S.off(n,k,P),O&&d&&d(I,t),!O&&l&&l(t)}function N(e,t,n){f&&(e.scrollTop=t),p&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(f&&(document.documentElement.scrollTop=t),p&&(document.documentElement.scrollLeft=n))}function q(m,C){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(C)?T=C:"number"===typeof C&&(T.duration=C),t=S.$(m),!t)return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+m);if(n=S.$(T.container||x.container),a=T.hasOwnProperty("duration")?T.duration:x.duration,s=T.hasOwnProperty("lazy")?T.lazy:x.lazy,r=T.easing||x.easing,i=T.hasOwnProperty("offset")?T.offset:x.offset,o=T.hasOwnProperty("force")?!1!==T.force:x.force,c=T.hasOwnProperty("cancelable")?!1!==T.cancelable:x.cancelable,u=T.onStart||x.onStart,l=T.onDone||x.onDone,d=T.onCancel||x.onCancel,p=void 0===T.x?x.x:T.x,f=void 0===T.y?x.y:T.y,"function"===typeof i&&(i=i(t,n)),h=_(n),g=$(n),E(),O=!1,!o){var A="body"===n.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:n.offsetHeight,L=g,M=L+A,H=w-i,N=H+t.offsetHeight;if(H>=L&&N<=M)return void(l&&l(t))}if(u&&u(t),R||y)return"string"===typeof r&&(r=b[r]||b["ease"]),j=v.apply(v,r),S.on(n,k,P,{passive:!0}),window.requestAnimationFrame(D),function(){I=null,O=!0};l&&l(t)}return q},C=O(),T=[];function I(e){for(var t=0;t<T.length;++t)if(T[t].el===e)return T.splice(t,1),!0;return!1}function j(e){for(var t=0;t<T.length;++t)if(T[t].el===e)return T[t]}function A(e){var t=j(e);return t||(T.push(t={el:e,binding:{}}),t)}function L(e){var t=A(this).binding;if(t.value){if(e.preventDefault(),"string"===typeof t.value)return C(t.value);C(t.value.el||t.value.element,t.value)}}var M={bind:function(e,t){A(e).binding=t,S.on(e,"click",L)},unbind:function(e){I(e),S.off(e,"click",L)},update:function(e,t){A(e).binding=t}},P={bind:M.bind,unbind:M.unbind,update:M.update,beforeMount:M.bind,unmounted:M.unbind,updated:M.update,scrollTo:C,bindings:T},$=function(e,t){t&&R(t),e.directive("scroll-to",P);var n=e.config.globalProperties||e.prototype;n.$scrollTo=P.scrollTo};return"undefined"!==typeof window&&window.Vue&&(window.VueScrollTo=P,window.VueScrollTo.setDefaults=R,window.VueScrollTo.scroller=O,window.Vue.use&&window.Vue.use($)),P.install=$,P}))}}]);