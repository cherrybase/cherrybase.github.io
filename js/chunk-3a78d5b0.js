(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a78d5b0"],{"2f9b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("page-title",{ref:"pageTitle",attrs:{heading:e.header.heading,icon:e.header.icon,actions:e.actions,filters:e.filters,subheading:e.header.subheading},on:{action:e.onActionINT},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(n){return[e._t(t,null,null,Object.assign({},{apply:e.apply},n))]}}})),{key:"subheading",fn:function(){return[e._t("header-subheading",(function(){return[e._v("\n              "+e._s(e.header.subheading)+"      \n          ")]}))]},proxy:!0}],null,!0)}),e.table?n("b-table",{attrs:{id:"agent-session-list",striped:!0,bordered:!0,outlined:!1,small:!0,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,"per-page":e.table.perPage,"current-page":e.table.currentPage,items:e.table.items,fields:e.table.fields},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(n){return[e._t(t,null,null,n)]}}}))],null,!0)}):e._e(),e.table?n("b-pagination",{attrs:{"total-rows":e.table.rows,"per-page":e.table.perPage,"aria-controls":"agent-session-list"},model:{value:e.table.currentPage,callback:function(t){e.$set(e.table,"currentPage",t)},expression:"table.currentPage"}}):e._e()],1)},s=[],i=(n("7f7f"),n("96cf"),n("3b8d")),r=n("e492"),o=n("d166"),c={components:{PageTitle:r["a"]},props:{header:{type:Object},actions:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},daterange:{type:Object},table:{type:Object},autoApply:{type:Boolean,default:!0},actionShow:{type:Object,default:function(){return{message:"hello"}}}},data:function(){return{MyFlags:o["c"],MyDict:o["b"],MyConst:o["a"],input:{daterange:{hidden:!0,startDate:null,endDate:null}},session:null}},mounted:function(e){this.autoApply&&this.getItems()},methods:{getItems:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in n={},this.actions)console.log("actions",a,this.actions[a]),s=this.actions[a].param||this.actions[a].type,n[s]=this.getInput(s);for(a in this.filters)s=this.filters[a].name||this.filters[a].param||this.filters[a].type,n[s]=this.filters[a].value;for(i in t)n[i]=t[i];if(!this.table||!this.table.api){e.next=12;break}return e.next=7,this.$service.get(this.table.api,n);case 7:r=e.sent,this.table.items=r.results,this.table.rows=this.table.items.length,this.session=r.meta,console.log("sessions",r,this.table);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),apply:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getItems();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onActionINT:function(e){switch(console.log("onAction",e),e.type){case"apply":this.getItems();break;default:this.$emit("action",e)}},getInput:function(e){return this.$refs.pageTitle.getInput(e)}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,s,!1,null,"5ba92127",null);t["a"]=p.exports},"5c42":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("master-view",{attrs:{header:{heading:e.heading,subheading:e.subheading,icon:e.icon},table:e.table,actions:e.actions},on:{action:e.onAction},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[n("b-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.item.message,expression:"row.item.message"}],attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.deleteItem(t.item,t.index,n.target)}}},[n("i",{staticClass:"fas fa-trash"})])]}}])}),e._m(0),e.oneItem?n("b-modal",{attrs:{id:e.modelName,title:"Add Key ",size:"md"},on:{hidden:e.cancelItem},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"position-relative form-group"},[n("button",{staticClass:"form-control btn btn-primary",attrs:{name:"save",id:"examplePassword",disabled:!e.isChanged},on:{click:e.saveItem}},[e._v("Save")])])]},proxy:!0}],null,!1,3820954212)},[n("div",{staticClass:"form-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.oneItem.keyName,expression:"oneItem.keyName"}],staticClass:"form-control",attrs:{name:"agent_name",id:"examplePassword",placeholder:"My API Key 1",type:"text"},domProps:{value:e.oneItem.keyName},on:{input:function(t){t.target.composing||e.$set(e.oneItem,"keyName",t.target.value)}}})]),n("br")]):e._e(),e.lastItem?n("b-modal",{attrs:{id:e.modelName+"_VIEW",title:"Key : "+e.lastItem.keyName,size:"md"}},[n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",[n("b-button",{staticClass:"text-sm w-120px",attrs:{variant:"outline-dark"}},[e._v("\n                Key Name")])],1),n("b-form-input",{attrs:{readonly:"",value:e.lastItem.keyName}})],1),n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",[n("b-button",{staticClass:"text-sm w-120px",attrs:{variant:"outline-dark"}},[e._v("\n                API Id")])],1),n("b-form-input",{attrs:{readonly:"",value:e.lastItem.id}}),n("b-input-group-append",[n("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.lastItem.id,expression:"lastItem.id",arg:"copy"}],attrs:{variant:"outline-success"}},[e._v("Copy")])],1)],1),n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",[n("b-button",{staticClass:"text-sm w-120px",attrs:{variant:"outline-dark"}},[e._v("\n                API Key")])],1),n("b-form-input",{attrs:{readonly:"",value:e.lastItem.key}}),n("b-input-group-append",[n("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.lastItem.key,expression:"lastItem.key",arg:"copy"}],attrs:{variant:"outline-success"}},[e._v("Copy")])],1)],1)],1):e._e()],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"main-card mb-3 card"})])])}],i=(n("7f7f"),n("96cf"),n("3b8d")),r=n("2f9b"),o=n("d166"),c=n("7f75"),l=n.n(c);n("b3a4");function u(){return{keyName:null}}var p={components:{MasterView:r["a"],VSwatches:l.a},data:function(){return{MyFlags:o["c"],MyDict:o["b"],MyConst:o["a"],heading:"API Keys",subheading:"Create Keys to use APIs",icon:"pe-7s-key icon-gradient bg-happy-itmeo fa fa-key",actions:[{label:"Add Keys",icon:"fa fa-plus",name:"ADD_ITEM",action:"ADD_ITEM"}],table:{fields:[{key:"keyName",label:"Name"},{key:"id",label:"Id"},{key:"actions",label:"Actions"}],items:[],perPage:25,currentPage:1,rows:0},oneItem:u(),lastItem:{},modelName:"MODAL_ADD_ITEM"}},computed:{items:function(e){return this.$store.getters.StateAgents},teams:function(e){return this.$store.getters.StateTeams},isChanged:function(e){return this.oldHash!==JSON.stringify(this.oneItem)}},created:function(e){this.loadItems()},methods:{loadItems:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.get("api/config/clientapikey");case 2:t=e.sent,this.table.items=t.results;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.post("api/config/clientapikey",{keyName:this.oneItem.keyName});case 2:t=e.sent,this.lastItem=t.data,this.oneItem=u(),this.onAction({name:"CANCEL"}),this.loadItems(),this.$bvModal.show(this.modelName+"_VIEW");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.oneItem=u(),this.onAction({name:"CANCEL"});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.delete("api/config/clientapikey/",t);case 2:this.loadItems();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in this.oneItem=u(),t)this.oneItem[n]=JSON.parse(JSON.stringify(t[n]));this.onAction({name:"EDIT_ITEM"});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onAction:function(e){switch(e.name){case"ADD_ITEM":this.oldHash=JSON.stringify(this.oneItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",e);break;case"EDIT_ITEM":this.oldHash=JSON.stringify(this.oneItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",e);break;case"CANCEL":this.$bvModal.hide(this.modelName);break;default:console.log("NoMapping",e)}}}},m=p,d=(n("d550"),n("2877")),h=Object(d["a"])(m,a,s,!1,null,null,null);t["default"]=h.exports},"9d35":function(e,t,n){},d550:function(e,t,n){"use strict";n("9d35")}}]);