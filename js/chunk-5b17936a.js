(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b17936a"],{"02fc":function(t,e,a){"use strict";a("3170")},3170:function(t,e,a){},"3b50":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-title",{attrs:{heading:t.heading,subheading:t.subheading,icon:t.icon,actions:t.actions},on:{action:t.onAction}}),a("b-card",{staticClass:"main-card mb-4",attrs:{title:""}},[a("b-table",{attrs:{striped:!0,bordered:!0,outlined:!1,small:!0,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,items:t.teams,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[a("b-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Y"==e.item.isactive?"De-Activate":"Activate",expression:"row.item.isactive == 'Y' ? 'De-Activate' : 'Activate'"}],staticClass:"fa-stack fa-1x",attrs:{size:"sm",variant:"outline-primary"},on:{click:function(a){return t.enableTeam(e.item,e.index,a.target)}}},[a("i",{staticClass:"fas fa-users fa-stack-1x"}),"Y"!=e.item.isactive?a("i",{staticClass:"fas fa-slash fa-stack-1x",staticStyle:{color:"Tomato"}}):t._e()]),t._v(" \n              "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Make Default Assignee",expression:"'Make Default Assignee'"}],staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.setItemDefault(e.item,e.index,a.target)}}},[e.item.defaultValue?t._e():a("span",{staticClass:"far fa-star"}),e.item.defaultValue?a("span",{staticClass:"fas fa-star"}):t._e()])]}}])})],1),t._m(0),t.newItem?a("b-modal",{attrs:{id:t.modelName,title:(t.newItem.id?"Edit":"Add")+" Team "},on:{hidden:t.cancelReps},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"position-relative form-group"},[a("button",{staticClass:"form-control btn btn-primary",attrs:{name:"password",id:"examplePassword",disabled:!t.isChanged},on:{click:t.createTeam}},[t._v("Create")])])]},proxy:!0}],null,!1,3419879763)},[a("ValidationObserver",{ref:"form"},[a("div",{staticClass:"position-relative form-group"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("label",{attrs:{for:"examplePassword"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newItem.name,expression:"newItem.name"}],staticClass:"form-control",attrs:{name:"agent_name",id:"examplePassword",placeholder:"Online Team",type:"text"},domProps:{value:t.newItem.name},on:{input:function(e){e.target.composing||t.$set(t.newItem,"name",e.target.value)}}}),a("span",{staticClass:"v-input-error"},[t._v(t._s(e.errors[0]))])]}}],null,!1,1528031627)})],1),a("div",{staticClass:"position-relative form-group"},[a("label",{attrs:{for:"exampleEmail"}},[t._v("Code")]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("@")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newItem.code,expression:"newItem.code"}],staticClass:"form-control",attrs:{placeholder:"ONLINE,BILLING",type:"text"},domProps:{value:t.newItem.code},on:{input:function(e){e.target.composing||t.$set(t.newItem,"code",e.target.value)}}})])])])],1):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"main-card mb-3 card"})])])}],i=(a("7f7f"),a("96cf"),a("3b8d")),r=a("e492"),o=a("ecee"),c=a("c074"),l=a("ad3d");function u(){return{code:"",dept_email:"",id:null,name:""}}o["c"].add(c["B"],c["A"],c["r"]);var d={components:{PageTitle:r["a"],"font-awesome-icon":l["a"]},data:function(){return{heading:"Teams",subheading:"can be used to handle chats in organized way",icon:"pe-7s-network icon-gradient bg-tempting-azure fa fa-users",actions:[{label:"Add Team",icon:"plus",name:"ADD_ITEM"}],fields:[{key:"name",label:"Name"},{key:"code",label:"Code"},{key:"actions",label:"Actions"}],newItem:u(),modelName:"MODAL_ADD_TEAM"}},computed:{teams:function(t){return this.$store.getters.StateTeams},isChanged:function(t){return this.oldHash!==JSON.stringify(this.newItem)}},created:function(t){this.loadAgentTeams()},methods:{loadAgentTeams:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("GetTeams");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createTeam:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("CreatTeam",this.newItem);case 2:this.newItem=u(),this.$refs.form.reset(),this.onAction({name:"CANCEL"});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),enableTeam:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isactive="Y"==e.isactive?"N":"Y",t.next=3,this.$store.dispatch("CreatTeam",e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setItemDefault:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("SetTeamsDefault",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cancelReps:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.newItem=u(),this.onAction({name:"CANCEL"});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onAction:function(t){switch(t.name){case"ADD_ITEM":this.oldHash=JSON.stringify(this.newItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",t);break;case"EDIT_ITEM":this.oldHash=JSON.stringify(this.newItem),this.$bvModal.show(this.modelName),console.log("ADD_ITEM",t);break;case"CANCEL":this.$bvModal.hide(this.modelName);break;default:console.log("NoMapping",t)}}}},p=d,m=a("2877"),f=Object(m["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},da41:function(t,e,a){},e492:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-page-title"},[a("div",{staticClass:"page-title-wrapper"},[a("div",{staticClass:"page-title-heading"},[a("div",{staticClass:"page-title-icon"},[a("i",{class:t.icon})]),a("div",[t._v("\n                "+t._s(t.heading)+"\n                "),a("div",{staticClass:"page-title-subheading"},[t._t("subheading",(function(){return[t._v("\n                        "+t._s(t.subheading)+"\n                    ")]}))],2)])]),a("div",{staticClass:"page-title-actions"},[t._l(t.filters,(function(e,n){return a("span",{key:"filter-"+n,staticClass:"filter-wrapper"},[t._t("filter("+e.name+")",(function(){return[e.hidden?t._e():a("span")]}),null,{filter:e})],2)})),t._l(t.actions,(function(e,n){return a("span",{key:"action-"+n,staticClass:"action-wrapper"},[t._t("action("+e.name+")",(function(){return[e.hidden||!1===t.actionShow[e.name]?t._e():a("span",[e.link?a("router-link",{staticClass:"btn-shadow d-inline-flex align-items-center btn",class:{"btn-link":"link"==e.type,"btn-success":!e.type||"button"==e.type},attrs:{tag:"button",to:e.link,type:"button"}},[e.icon?a("i",{staticClass:"mr-2",class:e.icon}):t._e(),t._v("\n                        "+t._s(e.label)+" \n                    ")]):"lane"==e.type?a("div",{staticClass:"d-inline-flex align-items-center",staticStyle:{"min-width":"220px"}},[a("v-select",{staticClass:"w-100",attrs:{options:t.input.lane.options,searchable:!1,clearable:!1,placeholder:"Select Account"},on:{input:function(a){return t.clickAction(e)}},scopedSlots:t._u([{key:"selected-option",fn:function(e){return[a("div",{},[a("span",{staticClass:"contact_type contact_type-24 fab",class:t.MyDict.social[e.contactType]}),t._v("  "+t._s(e.lane))])]}},{key:"open-indicator",fn:function(e){var n=e.attributes;return[a("span",t._b({staticClass:"fa fa-caret-down"},"span",n,!1))]}},{key:"option",fn:function(e){var n=e.contactType,s=e.lane;return[a("span",{staticClass:"contact_type contact_type-24 fab",class:t.MyDict.social[n]}),t._v("  "+t._s(s)+"\n                            ")]}}],null,!0),model:{value:t.input.lane.value,callback:function(e){t.$set(t.input.lane,"value",e)},expression:"input.lane.value"}})],1):"search"==e.type?a("div",{staticClass:"d-inline-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input.search.value,expression:"input.search.value"}],staticClass:"form-control",attrs:{type:"text",name:""},domProps:{value:t.input.search.value},on:{input:function(e){e.target.composing||t.$set(t.input.search,"value",e.target.value)}}})]):"apply"==e.type?a("div",{staticClass:"d-inline-flex"},[a("button",{staticClass:"btn-shadow  align-items-center btn btn-success",on:{click:function(a){return t.clickAction(e)}}},[e.icon?a("i",{class:e.icon}):t._e(),t._v(t._s(e.label))])]):a("div",{staticClass:"d-inline-flex"},[a("button",{staticClass:"btn-shadow  align-items-center btn",class:{"btn-link":"link"==e.type,"btn-success":!e.type||"button"==e.type},on:{click:function(a){return t.clickAction(e)}}},[e.icon?a("i",{staticClass:"mr-2",class:e.icon}):t._e(),t._v("\n                            "+t._s(e.label)+" \n                        ")])])],1)]}),null,{action:e})],2)})),t.dateranegeinput&&!t.dateranegeinput.hidden?a("span",{staticClass:"action-wrapper"},[a("date-range-picker",{attrs:{opens:"left","time-picker":!1,"control-container-class":"reportrange-text btn btn-success",ranges:t.dateranegeinput.ranges},on:{select:t.onDateRangeSelect,update:t.onDateRangeUpdate},scopedSlots:t._u([{key:"input",fn:function(e){return[a("i",{staticClass:"fa fa-calendar-alt"}),t._v(" "+t._s(t._f("date")(e.startDate))+" - "+t._s(t._f("date")(e.endDate))+"\n                ")]}}],null,!1,4282143172),model:{value:t.dateranegeinput.range,callback:function(e){t.$set(t.dateranegeinput,"range",e)},expression:"dateranegeinput.range"}})],1):t._e()],2)]),a("div",{staticStyle:{clear:"both",height:"0px"}})])},s=[],i=(a("7f7f"),a("96cf"),a("3b8d")),r=a("bbf5"),o=a.n(r),c=(a("53b4"),a("2ead"),a("c1df")),l=a.n(c),u=a("4a7a"),d=a.n(u),p=(a("6dfc"),a("d166"));function m(t){return t.hour(0).minute(0).seconds(0).milliseconds(0)}function f(t){return t.hour(23).minute(59).seconds(59).milliseconds(999)}var h={components:{DateRangePicker:o.a,vSelect:d.a},data:function(){var t=this;return{MyFlags:p["c"],MyDict:p["b"],MyConst:p["a"],dateranegeinput:function(){if(!t.daterange)return null;var e=t.daterange.startDate||m(l()().subtract(7,"day")).toDate(),a=t.daterange.endDate||f(l()()).toDate();return{range:{startDate:e,endDate:a},ranges:{Today:[m(l()()).toDate(),f(l()()).toDate()],"Last 7 Days":[m(l()().subtract(7,"day")).toDate(),f(l()()).toDate()],Yesterday:[m(l()().subtract(1,"day")).toDate(),f(l()().subtract(1,"day")).toDate()],"This month":[m(l()().date(1)).toDate(),f(l()()).toDate()],"Last month":[m(l()().subtract(1,"month").date(1)).toDate(),f(l()().date(0)).toDate()],"This year":[m(l()().month(0).date(1)).toDate(),f(l()()).toDate()],"Last year":[m(l()().subtract(1,"year").month(0).date(1)).toDate(),f(l()().month(0).date(0)).toDate()]}}}(),input:{lane:{options:[],value:null,sender:""},search:{value:null},contacts:""}}},computed:{},filters:{date:function(t){return t?t.toLocaleString():""}},created:function(t){this.daterange&&(this.daterange.startDate||(this.daterange.startDate=m(l()()).toDate()),this.daterange.endDate||(this.daterange.endDate=f(l()()).toDate()),this.sanitizeDateRange(this.daterange)),this.loadLanes()},methods:{sanitizeDateRange:function(t){var e=l()(t.startDate),a=l()(t.endDate);return t.startDate=m(e).toDate(),t.endDate=f(a).toDate(),t},loadLanes:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$service.getX("/api/options/channels");case 2:t.sent,this.input.lane.options=this.$store.getters.StateApi.OptionsChannels;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDateRangeSelect:function(t){console.log("select",t);var e=this.sanitizeDateRange(t);this.dateranegeinput.range.startDate=e.startDate,this.dateranegeinput.range.endDate=e.endDate},onDateRangeUpdate:function(t){console.log("c_update",t),this.daterange&&(this.daterange.startDate=t.startDate,this.daterange.endDate=t.endDate,this.$emit("dateRangeOnUpdate",t))},clickAction:function(t){this.$emit("action",t)},action:function(t,e,a){for(var n in this.actions)if(this.actions[n].name==t){this.actions[n][e]=a;break}},getInput:function(t){var e;return null===(e=this.input[t])||void 0===e?void 0:e.value}},props:{icon:String,heading:String,subheading:String,actions:Array,filters:Array,daterange:{type:Object,default:function(){return null}},actionShow:{type:Object,default:function(){return{message:"hello"}}}}},g=h,v=(a("02fc"),a("fb11"),a("2877")),b=Object(v["a"])(g,n,s,!1,null,null,null);e["a"]=b.exports},fb11:function(t,e,a){"use strict";a("da41")}}]);