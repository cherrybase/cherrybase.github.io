(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e53325a"],{"1da5":function(t,e,s){},"2fdb":function(t,e,s){"use strict";var n=s("5ca1"),a=s("d2c8"),i="includes";n(n.P+n.F*s("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"3e84":function(t,e,s){"use strict";e["a"]={name:"SlideUpDown",props:{active:Boolean,duration:{type:Number,default:500},tag:{type:String,default:"div"},useHidden:{type:Boolean,default:!0}},data:function(){return{style:{},initial:!1,hidden:!1}},watch:{active:function(){this.layout()}},render:function(t){return t(this.tag,{style:this.style,attrs:this.attrs,ref:"container",on:{transitionend:this.onTransitionEnd}},this.$slots.default)},mounted:function(){this.layout(),this.initial=!0},created:function(){this.hidden=!this.active},computed:{el:function(){return this.$refs.container},attrs:function(){var t={"aria-hidden":!this.active,"aria-expanded":this.active};return this.useHidden&&(t.hidden=this.hidden),t}},methods:{layout:function(){var t=this;this.active?(this.hidden=!1,this.$emit("open-start"),this.initial&&this.setHeight("0px",(function(){return t.el.scrollHeight+"px"}))):(this.$emit("close-start"),this.setHeight(this.el.scrollHeight+"px",(function(){return"0px"})))},asap:function(t){this.initial?this.$nextTick(t):t()},setHeight:function(t,e){var s=this;this.style={height:t},this.asap((function(){s.__=s.el.scrollHeight,s.style={height:e(),overflow:"hidden","transition-property":"height","transition-duration":s.duration+"ms"}}))},onTransitionEnd:function(t){t.target===this.el&&(this.active?(this.style={},this.$emit("open-end")):(this.style={height:"0",overflow:"hidden"},this.hidden=!0,this.$emit("close-end")))}}}},"457f":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("page-title",{attrs:{heading:t.heading,subheading:t.subheading,icon:t.icon,daterange:t.input.daterange},on:{dateRangeOnUpdate:t.dateRangeOnUpdate}}),s("b-table",{attrs:{id:"agent-session-list",striped:!0,bordered:!0,outlined:!1,small:!0,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,"sort-by":t.sessions.sortBy,"sort-desc":t.sessions.sortDesc,"per-page":t.sessions.perPage,"current-page":t.sessions.currentPage,items:t.filtered,fields:t.sessions.fields},on:{"update:sortBy":function(e){return t.$set(t.sessions,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.sessions,"sortBy",e)},"update:sortDesc":function(e){return t.$set(t.sessions,"sortDesc",e)},"update:sort-desc":function(e){return t.$set(t.sessions,"sortDesc",e)}},scopedSlots:t._u([{key:"top-row",fn:function(e){return[s("b-th",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.assignedToAgent,expression:"filters.assignedToAgent"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.filters.assignedToAgent},on:{input:function(e){e.target.composing||t.$set(t.filters,"assignedToAgent",e.target.value)}}})]),s("b-th",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.contactName,expression:"filters.contactName"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.filters.contactName},on:{input:function(e){e.target.composing||t.$set(t.filters,"contactName",e.target.value)}}})]),s("b-th",[t._v(" ")]),s("b-th",[t._v(" ")]),s("b-th",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.fistResponseStamp,expression:"filters.fistResponseStamp"}],staticClass:"form-control form-control-sm",on:{click:function(t){t.stopPropagation(),t.preventDefault()},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"fistResponseStamp",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("--")]),t._l(t.fistResponseOptions,(function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2)]),s("b-th",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.closeSessionStamp,expression:"filters.closeSessionStamp"}],staticClass:"form-control form-control-sm",on:{click:function(t){t.stopPropagation(),t.preventDefault()},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"closeSessionStamp",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("--")]),t._l(t.closeSessionOptions,(function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2)])]}},{key:"cell(assignedToAgent)",fn:function(e){return["BOT"==e.item.mode?s("font-awesome-icon",{style:{color:"grey"},attrs:{icon:"robot"}}):t._e(),"AGENT"==e.item.mode?s("font-awesome-icon",{style:{color:"grey"},attrs:{icon:"user"}}):t._e(),t._v("\n                 "+t._s(e.item.assignedToAgent)+"\n            ")]}},{key:"cell(contactId)",fn:function(e){return[s("i",{staticClass:"fab",class:t.MyDict.socialPrefix(e.item.contactId)}),t._v("\n                "+t._s(e.item.contactName||e.item.contactId)+"\n\n                "),s("span",{staticClass:"fa fa-info-circle",attrs:{"cursor-pointer":"",id:"template-details-"+e.index}}),s("b-popover",{attrs:{triggers:"hover focus",target:"template-details-"+e.index,"custom-class":"message-preview"},scopedSlots:t._u([{key:"default",fn:function(){return[s("div",{staticClass:"message-text"},[t._v("Name : "+t._s(e.item.contactName))]),s("div",{staticClass:"message-text"},[t._v("Id : "+t._s(e.item.contactId))]),s("div",{staticClass:"message-text"},[t._v("Session : "+t._s(e.item.sessionId))])]},proxy:!0}],null,!0)})]}},{key:"cell(startSessionStamp)",fn:function(e){return[t._v("\n                "+t._s(t._f("formatDate")(e.item.startSessionStamp))+"\n            ")]}},{key:"cell(fistResponseStamp)",fn:function(e){return[t._v("\n                "+t._s(t._f("formatDate")(e.item.fistResponseStamp))+" \n            ")]}},{key:"cell(closeSessionStamp)",fn:function(e){return[s("span",{staticClass:"fa fa-circle text-xs",class:{"text-success":e.item.local.open,"text-danger":e.item.local.expired,"text-info":e.item.local.resolved}}),t._v("\n                  "+t._s(t._f("formatDate")(e.item.closeSessionStamp))+"\n            ")]}},{key:"cell(actions)",fn:function(e){return[s("span",{staticClass:"far fa-comment-alt",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.showChat(e.item,e.index,s.target)}}}),t._v("\n                 \n            ")]}}])}),s("b-pagination",{attrs:{"total-rows":t.sessions.rows,"per-page":t.sessions.perPage,"aria-controls":"agent-session-list"},model:{value:t.sessions.currentPage,callback:function(e){t.$set(t.sessions,"currentPage",e)},expression:"sessions.currentPage"}}),s("div",{staticClass:"chat_archive",class:{closed:!t.session}},[t.session?s("agent-chat",{key:t.session.sessionId,attrs:{session:t.session},on:{close:t.hideChat}}):t._e()],1)],1)},a=[],i=(s("96cf"),s("3b8d")),o=(s("6762"),s("2fdb"),s("ac6a"),s("456d"),s("e492")),r=s("d166"),c=s("df4b"),l=s("6172"),u=s("ecee"),d=s("c074"),p=s("ad3d");u["c"].add(d["u"],d["d"],d["a"],d["b"],d["s"],d["c"],d["e"],d["p"],d["v"]);var f={components:{PageTitle:o["a"],"font-awesome-icon":p["a"],AgentChat:c["a"]},computed:{filtered:function(){var t=this;if(this.sessions.items.length){var e=this.sessions.items.filter((function(e){return Object.keys(t.filters).every((function(s){var n,a,i,o;if("closeSessionStamp"===s)switch(t.filters[s]){case"resolved":return null===e||void 0===e||null===(n=e.local)||void 0===n?void 0:n.resolved;case"opened":return null===e||void 0===e||null===(a=e.local)||void 0===a?void 0:a.active;case"expired":return null===e||void 0===e||null===(i=e.local)||void 0===i?void 0:i.expired;case"closed":return null===e||void 0===e||null===(o=e.local)||void 0===o?void 0:o.closed;default:return!0}else{if("fistResponseStamp"!==s)return String(e[s]).toLowerCase().includes(t.filters[s].toLowerCase());switch(t.filters[s]){case 0:return 0==e[s];case"attended":return 0!=e[s];default:return!0}}}))}));return e.length>0?e:[Object.keys(this.sessions.items[0]).reduce((function(t,e){return t[e]="",t}),{})]}}},data:function(){return{MyFlags:r["c"],MyDict:r["b"],MyConst:r["a"],heading:"Chat Sessions",subheading:"Select date range for report",icon:"pe-7s-chat icon-gradient bg-tempting-azure fa fa-chalkboard-teacher",sessions:{sortBy:"assignedToAgent",sortDesc:!1,fields:[{key:"assignedToAgent",label:"Assigned",sortable:!0},{key:"contactId",label:"Contact",sortable:!1},{key:"actions",label:"Action",sortable:!1},{key:"startSessionStamp",label:"Start@",sortable:!0},{key:"fistResponseStamp",label:"Agent@",sortable:!1},{key:"closeSessionStamp",label:"Closed@",sortable:!0}],items:[],perPage:25,currentPage:1,rows:0},closeSessionOptions:[{label:"Closed",value:"closed"},{label:"Expired",value:"expired"},{label:"Resolved",value:"resolved"},{label:"Open",value:"opened"}],fistResponseOptions:[{label:"Attended",value:"attended"},{label:"Not Attended",value:0}],filters:{assignedToAgent:"",contactName:"",closeSessionStamp:"",fistResponseStamp:""},input:{daterange:{startDate:null,endDate:null}},session:null}},mounted:function(t){this.dateRangeOnUpdate()},methods:{getSessions:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("GetSessions",{agent:"TEAM",contactType:"MESSAGE_TWITTER",startStamp:this.input.daterange.startDate,endStamp:this.input.daterange.endDate});case 2:e=t.sent,this.sessions.items=e.results.map((function(t){return l["a"].session(t)})),this.sessions.rows=this.sessions.items.length,console.log("sessions",e,this.sessions);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dateRangeOnUpdate:function(t){console.log("dateRangeOnUpdate",t),this.input.daterange.startDate=this.input.daterange.startDate.getTime(),this.input.daterange.endDate=this.input.daterange.endDate.getTime(),this.getSessions()},deleteChat:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("DeleteSessionChats",e);case 2:t.sent,this.sessions.items.splice(s,1);case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),hideChat:function(t){this.session=null},showChat:function(t){this.session&&this.session.sessionId==t.sessionId?this.session=null:this.session=t}}},h=f,g=(s("f160"),s("2877")),m=Object(g["a"])(h,n,a,!1,null,"95651020",null);e["default"]=m.exports},"640f":function(t,e,s){},6762:function(t,e,s){"use strict";var n=s("5ca1"),a=s("c366")(!0);n(n.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},"9dbb":function(t,e,s){(function(e,s){t.exports=s()})(0,(function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function s(t){return"function"===typeof t}function n(t){return e(t)?"array":typeof t}function a(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"===typeof t&&e in t}function o(t,e){return null!=t&&"object"!==typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var r=RegExp.prototype.test;function c(t,e){return r.call(t,e)}var l=/\S/;function u(t){return!c(l,t)}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function p(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return d[t]}))}var f=/\s*/,h=/\s+/,g=/\s*=/,m=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;function _(t,s){if(!t)return[];var n,i,o,r=!1,c=[],l=[],d=[],p=!1,_=!1,C="",x=0;function k(){if(p&&!_)while(d.length)delete l[d.pop()];else d=[];p=!1,_=!1}function T(t){if("string"===typeof t&&(t=t.split(h,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);n=new RegExp(a(t[0])+"\\s*"),i=new RegExp("\\s*"+a(t[1])),o=new RegExp("\\s*"+a("}"+t[1]))}T(s||S.tags);var P,O,R,D,A,$,E=new w(t);while(!E.eos()){if(P=E.pos,R=E.scanUntil(n),R)for(var I=0,M=R.length;I<M;++I)D=R.charAt(I),u(D)?(d.push(l.length),C+=D):(_=!0,r=!0,C+=" "),l.push(["text",D,P,P+1]),P+=1,"\n"===D&&(k(),C="",x=0,r=!1);if(!E.scan(n))break;if(p=!0,O=E.scan(v)||"name",E.scan(f),"="===O?(R=E.scanUntil(g),E.scan(g),E.scanUntil(i)):"{"===O?(R=E.scanUntil(o),E.scan(m),E.scanUntil(i),O="&"):R=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(A=">"==O?[O,R,P,E.pos,C,x,r]:[O,R,P,E.pos],x++,l.push(A),"#"===O||"^"===O)c.push(A);else if("/"===O){if($=c.pop(),!$)throw new Error('Unopened section "'+R+'" at '+P);if($[1]!==R)throw new Error('Unclosed section "'+$[1]+'" at '+P)}else"name"===O||"{"===O||"&"===O?_=!0:"="===O&&T(R)}if(k(),$=c.pop(),$)throw new Error('Unclosed section "'+$[1]+'" at '+E.pos);return b(y(l))}function y(t){for(var e,s,n=[],a=0,i=t.length;a<i;++a)e=t[a],e&&("text"===e[0]&&s&&"text"===s[0]?(s[1]+=e[1],s[3]=e[3]):(n.push(e),s=e));return n}function b(t){for(var e,s,n=[],a=n,i=[],o=0,r=t.length;o<r;++o)switch(e=t[o],e[0]){case"#":case"^":a.push(e),i.push(e),a=e[4]=[];break;case"/":s=i.pop(),s[5]=e[2],a=i.length>0?i[i.length-1][4]:n;break;default:a.push(e)}return n}function w(t){this.string=t,this.tail=t,this.pos=0}function C(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function x(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}w.prototype.eos=function(){return""===this.tail},w.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var s=e[0];return this.tail=this.tail.substring(s.length),this.pos+=s.length,s},w.prototype.scanUntil=function(t){var e,s=this.tail.search(t);switch(s){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,s),this.tail=this.tail.substring(s)}return this.pos+=e.length,e},C.prototype.push=function(t){return new C(t,this)},C.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{var a,r,c,l=this,u=!1;while(l){if(t.indexOf(".")>0){a=l.view,r=t.split("."),c=0;while(null!=a&&c<r.length)c===r.length-1&&(u=i(a,r[c])||o(a,r[c])),a=a[r[c++]]}else a=l.view[t],u=i(l.view,t);if(u){e=a;break}l=l.parent}n[t]=e}return s(e)&&(e=e.call(this.view)),e},x.prototype.clearCache=function(){"undefined"!==typeof this.templateCache&&this.templateCache.clear()},x.prototype.parse=function(t,e){var s=this.templateCache,n=t+":"+(e||S.tags).join(":"),a="undefined"!==typeof s,i=a?s.get(n):void 0;return void 0==i&&(i=_(t,e),a&&s.set(n,i)),i},x.prototype.render=function(t,e,s,n){var a=this.getConfigTags(n),i=this.parse(t,a),o=e instanceof C?e:new C(e,void 0);return this.renderTokens(i,o,s,t,n)},x.prototype.renderTokens=function(t,e,s,n,a){for(var i,o,r,c="",l=0,u=t.length;l<u;++l)r=void 0,i=t[l],o=i[0],"#"===o?r=this.renderSection(i,e,s,n,a):"^"===o?r=this.renderInverted(i,e,s,n,a):">"===o?r=this.renderPartial(i,e,s,a):"&"===o?r=this.unescapedValue(i,e):"name"===o?r=this.escapedValue(i,e,a):"text"===o&&(r=this.rawValue(i)),void 0!==r&&(c+=r);return c},x.prototype.renderSection=function(t,n,a,i,o){var r=this,c="",l=n.lookup(t[1]);function u(t){return r.render(t,n,a,o)}if(l){if(e(l))for(var d=0,p=l.length;d<p;++d)c+=this.renderTokens(t[4],n.push(l[d]),a,i,o);else if("object"===typeof l||"string"===typeof l||"number"===typeof l)c+=this.renderTokens(t[4],n.push(l),a,i,o);else if(s(l)){if("string"!==typeof i)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,i.slice(t[3],t[5]),u),null!=l&&(c+=l)}else c+=this.renderTokens(t[4],n,a,i,o);return c}},x.prototype.renderInverted=function(t,s,n,a,i){var o=s.lookup(t[1]);if(!o||e(o)&&0===o.length)return this.renderTokens(t[4],s,n,a,i)},x.prototype.indentPartial=function(t,e,s){for(var n=e.replace(/[^ \t]/g,""),a=t.split("\n"),i=0;i<a.length;i++)a[i].length&&(i>0||!s)&&(a[i]=n+a[i]);return a.join("\n")},x.prototype.renderPartial=function(t,e,n,a){if(n){var i=this.getConfigTags(a),o=s(n)?n(t[1]):n[t[1]];if(null!=o){var r=t[6],c=t[5],l=t[4],u=o;0==c&&l&&(u=this.indentPartial(o,l,r));var d=this.parse(u,i);return this.renderTokens(d,e,n,u,a)}}},x.prototype.unescapedValue=function(t,e){var s=e.lookup(t[1]);if(null!=s)return s},x.prototype.escapedValue=function(t,e,s){var n=this.getConfigEscape(s)||S.escape,a=e.lookup(t[1]);if(null!=a)return"number"===typeof a&&n===S.escape?String(a):n(a)},x.prototype.rawValue=function(t){return t[1]},x.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"===typeof t?t.tags:void 0},x.prototype.getConfigEscape=function(t){return t&&"object"===typeof t&&!e(t)?t.escape:void 0};var S={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){k.templateCache=t},get templateCache(){return k.templateCache}},k=new x;return S.clearCache=function(){return k.clearCache()},S.parse=function(t,e){return k.parse(t,e)},S.render=function(t,e,s,a){if("string"!==typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return k.render(t,e,s,a)},S.escape=p,S.Scanner=w,S.Context=C,S.Writer=x,S}))},d800:function(t,e,s){"use strict";s("1da5")},df4b:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card card-shadow chat_box_wrapper"},[s("div",{staticClass:"card-header msg_head chat-head"},[s("div",{staticClass:"d-flex bd-highlight chat-header-left"},[t.activeChat?s("div",{staticClass:"img_cont",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("img",{staticClass:"rounded-circle user_img",attrs:{src:t.activeChat.profilePic||t.MyDict.profilePic}}),s("span",{staticClass:"online_icon",attrs:{hidden:""}})]):t._e(),t.activeChat?s("div",{staticClass:"user_info",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("span",{staticClass:"user_name"},[t._v(t._s(t.activeChat.name))]),t.activeChat.ilastmsg?s("p",{staticClass:"user_text"},[t._v(t._s(t._f("formatDate")(t.activeChat.ilastmsg.timestamp))+" ")]):t._e()]):t._e(),s("div",{staticClass:"video_cam"},[t._m(0),t._m(1),s("span",{attrs:{hidden:""},on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("i",{staticClass:"fas fa-history"})])])]),s("div",{staticClass:"chat-header-right"},[s("div",{staticClass:"video_cam"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Close",expression:"'Close'"}],staticStyle:{cursor:"pointer"},on:{click:t.closeBox}},[s("i",{staticClass:"fa fa-close"})])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showMediaOptions,expression:"!showMediaOptions"}],staticClass:"card-body msg_card_body"},[s("div",{staticClass:"msg_card_body-bubbles"},[s("loading",{attrs:{active:t.isLoading,"can-cancel":!1,loader:"dots",opacity:.3,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t.activeChat?t.activeChat?t._l(t.activeChat.messages,(function(e){return s("div",["I"==e.type||"Ii"==e.type?s("div",{staticClass:"d-flex justify-content-start mb-4 chat-bubble",attrs:{title:e.tags?e.tags.categories:null}},[s("div",{staticClass:"msg_cotainer"},[s("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))])]),s("span",{staticClass:"msg_time"},[s("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))]),t._v("  "+t._s(t._f("formatDate")(e.timestamp)))])]):"O"==e.type||"Oi"==e.type?s("div",{staticClass:"d-flex justify-content-end mb-4 chat-bubble",attrs:{"data-local-id":"m.localId","data-message-id":e.messageId}},[e.messageId?t._e():s("i",{staticClass:"sending fa fa-spinner fa-spin"},[t._v(" ")]),s("div",{staticClass:"msg_cotainer_send"},[s("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))]),e.attachments?s("div",[s("span",{staticClass:"fa fa-paperclip"}),t._v(" "+t._s(e.template)+" \n                "),s("div",{staticClass:"input-group my-attachments",staticStyle:{"max-width":"200px"}},t._l(e.attachments,(function(e){return s("img",{staticStyle:{"max-width":"200px"},attrs:{src:t._f("thumburl")(e.mediaURL)}})})),0)]):e.template?s("div",{staticClass:"my-msg-template-tag"},[s("span",{staticClass:"fa fa-tag"}),t._v(" "+t._s(e.template)+"\n            ")]):t._e(),e.logs?s("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.logs+"",expression:"m.logs+''"}],staticClass:"log_icon fa fa-exclamation-triangle float-right"}):t._e(),s("span",{staticClass:"msg_time_send"},[t._v(t._s(t._f("formatDate")(e.timestamp))+"  "),s("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))])])])]):"A"==e.type||"L"==e.type?s("div",{staticClass:"d-flex justify-content-center chat-bubble chat-bubble-note",attrs:{"data-local-id":"m.localId","data-message-id":e.messageId}},[e.messageId?t._e():s("i",{staticClass:"sending fa fa-spinner fa-spin"},[t._v(" ")]),s("div",{staticClass:"msg_cotainer_action"},[t._v("\n            "+t._s(t._f("formatDate")(e.timestamp))+"  "),s("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))]),t._v(" "),s("span",{staticClass:"fa fa-long-arrow-alt-right"}),t._v(" "+t._s(t._f("newlines")(t._f("striphtml")(e.action)))+"\n\n            "),t._l(e.logs,(function(n){return e.logs?s("i",{staticClass:"prepend-comma"},[t._v("\n                 "+t._s(t._f("newlines")(t._f("striphtml")(t._f("log_option")(n,e.action)))))]):t._e()}))],2)]):t._e()])})):t._e():s("div",{staticClass:"msg_card_body-logo"},[s("span",{})])],2)]),s("div",{staticClass:"card-footer"})])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{attrs:{hidden:""}},[s("i",{staticClass:"fas fa-video"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{attrs:{hidden:""}},[s("i",{staticClass:"fas fa-phone"})])}],i=(s("96cf"),s("3b8d")),o=(s("ecee"),s("ad3d")),r=s("d166"),c=s("9062"),l=s.n(c),u=(s("9dbb"),s("3e84")),d={components:{"font-awesome-icon":o["a"],Loading:l.a,SlideUpDown:u["a"]},props:{session:Object},computed:{},data:function(){return{message_text:"",quickReplies:null,selectedMedia:null,showMediaOptions:!1,showChatOptions:!1,lastMessageId:null,ilastMessageId:null,MyDict:r["b"],MyFlags:r["c"],MyConst:r["a"],isLoading:!1,showQuickActions:!1,activeChat:{messages:null}}},created:function(){console.log("created")},updated:function(){console.log("updated")},mounted:function(){this.loadMessages(),this.loadQuickLabels()},beforeUnmount:function(){},methods:{loadMessages:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("GetSessionChats..."),this.isLoading=!0,t.next=4,this.$store.dispatch("GetSessionChats",this.session);case 4:e=t.sent,console.log("resp",e),this.activeChat=e,this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeBox:function(t){this.$emit("close")},loadQuickLabels:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("LoadQuickLabels");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},p=d,f=(s("d800"),s("2877")),h=Object(f["a"])(p,n,a,!1,null,"3054a364",null);e["a"]=h.exports},f160:function(t,e,s){"use strict";s("640f")}}]);